@model QuestionEditViewModel

@section Title
{
    @Model.Title
}

@section Header
{
    @Html.Partial(ViewNames._Login, Model.Login)
}

@using (Html.BeginForm())
{
    @Html.HiddenFor(x => x.IsNew)

    <h2>@Model.Title</h2>

    @Html.Partial(ViewNames._EditButtons, Model);

    using (Html.BeginItem(() => Model.Question))
    {
        @Html.Partial(ViewNames._EditProperties, Model.Question)
        @Html.Partial(ViewNames._EditTexts, Model.Question)
 
        <br />

        ViewData[ViewDataKeys.AllCategories] = Model.AllCategories;
            
        using (Html.BeginCollection(() => Model.Question.Categories))
        {
            @Html.Partial(ViewNames._EditCategories, Model.Question.Categories)
        }

        using (Html.BeginCollection(() => Model.Question.Links))
        {
            @Html.Partial(ViewNames._EditLinks, Model.Question.Links)
        }

        @Html.Partial(ViewNames._EditFlags, Model.Question)
    }
    
    @Html.ValidationSummary()

    @Html.Partial(ViewNames._EditButtons, Model);

    if (Model.ReturnAction != null)
    {
        using (Html.BeginItem(() => Model.ReturnAction))
        {
            @Html.Partial(ViewNames._ActionInfo, Model.ReturnAction);
        }
    }
}
